{% extends "base.html" %}
{% block content %}

<ul class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li class="active">{{ mets_file }}</li>
</ul>

<h3>METS File: {{ mets_file }}</h3>
<p><strong>AIP UUID:</strong> {{ aip_uuid }}</p>
<p><strong>Total files:</strong> {{ filecount }}  |  <strong>Original files:</strong> {{ original_filecount }}  |  <strong>Preservation files:</strong> {{ preservation_filecount }}</p>

<!-- Descriptive metadata -->
{% if dcmetadata %}
<h3>Descriptive metadata</h3>
  {% for element in dcmetadata %}
    <p><strong>{{ element.element.title() }}:</strong> {{ element.value }}</p>
  {% endfor %}
{% endif %}

<!-- Original files -->
{% if original_files %}
<h3>Original files (count: {{ original_filecount }})</h3>
<p><em>Click on any column header to sort the table by that value.</em></p>
<table class="table table-striped table-bordered table-condensed sortable">
  <tr>
    <th>Path</th>
    <th>UUID</th>
    <th>Details</th>
  </tr>
  {% for original_file in original_files %}
  <tr>
    <td>{{ original_file.path }}</td>
    <td>{{ original_file.file_uuid }}</td>
    <td><a href="/aip/{{ mets_file }}/file/{{ original_file.file_uuid }}"><button class="btn btn-primary">View</button></a></td>
  </tr>
  {% endfor %}
</table>
{% endif %}

<!-- All files -->
{% if all_files %}
<h3>All files (count: {{ filecount }})</h3>
<p><em>Click on any column header to sort the table by that value.</em></p>
<table class="table table-striped table-bordered table-condensed sortable">
  <tr>
    <th>Path</th>
    <th>Use</th>
    <th>UUID</th>
    <th>Details</th>
  </tr>
  {% for f in all_files %}
  <tr>
    <td>{{ f.path }}</td>
    <td>{{ f.use }}</td>
    <td>{{ f.file_uuid }}</td>
    <td><a href="/aip/{{ mets_file }}/file/{{ f.file_uuid }}"><button class="btn btn-primary">View</button></a></td>
  </tr>
  {% endfor %}
<table>
{% endif %}

{% endblock %}